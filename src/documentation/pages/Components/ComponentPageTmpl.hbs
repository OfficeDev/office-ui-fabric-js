<div class="ComponentPageWrapper">
  <div class="pageHeader">
    <div class="content" style="background-color: blue;">
      <h1 id="{{pageInfo.componentName}}" class="pageTitle">{{pageInfo.componentName}}</h1>
        <nav class="pageNav" aria-label="In page navigation">
          <ul>
            <li><a href="#" data-title="Overview">Overview</a></li>
            <li><a href="#" data-title="Best Practices">Best Practices</a></li>
            <li><a href="#" data-title="Variants">Variants</a></li>
            <li><a href="#" data-title="Implementation">Implementation</a></li>
          </ul>
        </nav>
    </div>
  </div>
  <div class="ComponentPage">
    <div class="ComponentPage-body">
      <div class="ComponentPage-overviewSection">
        <h2 class="ComponentPage-subHeading" id="Overview">Overview</h2>
        <div class="ComponentPage-overviewSectionContent">
          <div class="ComponentPage-overview">
            <div>
              {{{pageInfo.overview}}}
            </div>
          </div>
        </div>
      </div>
      <div class="ComponentPage-usingSection">
        <h2 class="ComponentPage-subHeading ComponentsPage-usingTitle" id="Using">Using this Component</h2>
          <div>
            {{#if pageInfo.isDatePicker}}
              Confirm that you have references to Fabric&#39;s CSS and JavaScript on your page, as well as jQuery and PickaDate.js library:
              {{codeBlock 
'<link rel="stylesheet" href="fabric.min.css">
<link rel="stylesheet" href="fabric.components.min.css">
<script src="jquery.min.js"></script>
<script src="fabric.min.js"></script>
<script src="PickaDate.js"></script>' 'html'}}
            {{else}}
              Confirm that you have references to Fabric&#39;s CSS and JavaScript on your page:
              {{codeBlock 
'<link rel="stylesheet" href="fabric.min.css">
<link rel="stylesheet" href="fabric.components.min.css">
<script src="fabric.min.js"></script>' 'html'}}
            {{/if}}
          </div>
          <div>
          {{#if pageInfo.variants}}
            Copy the HTML from one of the samples below into your page. For example:
            {{{renderCode (renderComponentExample pageInfo.componentName pageInfo.variants.[0].templateFile (lookup models pageInfo.variants.[0].model)) 'html' }}}
          {{/if}}
          </div>
      </div>
      <div class="ComponentPage-variantsSection">
        <h2 class="ComponentPage-subHeading ComponentPage-variantsTitle" id="Variants">Variants</h2>
        {{#each pageInfo.variants}}
        <div class="ExampleCard">
          <div class="ExampleCard-header">
            <span class="ExampleCard-title ms-font-l">{{this.name}}</span>
            <div class="ExampleCard-toggleButtons ms-font-l">
              <button class="ExampleCard-codeButton ms-Button ms-Button--icon" icon="Embed">
                <span class="ms-Button-icon">
                  <i class="ms-Icon ms-Icon--Embed"></i>
                </span>
                <span class="ms-Button-label">Show Code</span>
                </button>
            </div>
          </div>
          <div class="ExampleCard-code">
            {{{renderCode (renderComponentExample ../pageInfo.componentName this.templateFile (lookup ../models this.model)) 'html' }}}
            {{#if ../pageInfo.jsFile}}
            {{{renderCode (renderComponentExample ../pageInfo.componentName ../pageInfo.jsFile null) "javascript" }}}
            {{/if}}
          </div>
          <div class="ExampleCard-example">
            {{renderComponentExample ../pageInfo.componentName this.templateFile (lookup ../models this.model)}}
          </div>
        </div>
        {{/each}}
      </div>
      {{#if pageInfo.states}}
      <div class="ComponentPage-statesSection">
        <h2 class="ComponentPage-subHeading ComponentPage-statesTitle" id="Variants">States</h2>
        <div>
           <table>
              <thead>
                <tr>
                  <th>State</th>
                  <th>Applied to</th>
                  <th>Result</th>
                </tr>
              </thead>
              <tbody>
                {{#each pageInfo.states}}
                <tr>
                  <td><code>{{this.name}}</code></td>
                  <td><code>{{this.applied}}</code></td>
                  <td>{{this.result}}</td>
                </tr>
                {{/each}}
              </tbody>
           </table>
        </div>
      </div>
      {{/if}}
    </div>
  </div>
</div>
<script type="text/javascript">
(function() {
  function findAncestor (el, cls) {
     while ((el = el.parentElement) && !el.classList.contains(cls));
     return el;
  }

  // Toggle code buttons
  let codeButtons = document.getElementsByClassName('ExampleCard-codeButton');
  for (let i = 0; i < codeButtons.length; i++) {
    codeButtons[i].addEventListener('click', toggleCode);
  }

  function toggleCode(e) {
    let container = findAncestor(e.target, 'ExampleCard');
    container.classList.contains('is-codeVisible') ?
    container.classList.remove('is-codeVisible') :
    container.classList.add('is-codeVisible');
  }


  // Add isAttached to pageHeader on scroll
  const FULL_HEADER_HEIGHT = 236;
  const ATTACHED_HEADER_HEIGHT = 128;
  const SCROLL_THRESHHOLD = FULL_HEADER_HEIGHT - ATTACHED_HEADER_HEIGHT;
  var isAttached;
  const pageHeader = document.querySelector('.pageHeader');

  window.onscroll = checkHeaderAttachment;
  checkHeaderAttachment();
  
  function checkHeaderAttachment() {
    if (window.scrollY >= SCROLL_THRESHHOLD) {
      isAttached = true;
      if (!pageHeader.classList.contains('isAttached')) {
        pageHeader.classList.add('isAttached');
      }
    } else {
      isAttached = false;
      if (pageHeader.classList.contains('isAttached')) {
        pageHeader.classList.remove('isAttached');
      }
    }
  }
})();
</script>
{{#if pageInfo.jsFile}}
{{renderComponentExample pageInfo.componentName pageInfo.jsFile null }}
{{/if}}
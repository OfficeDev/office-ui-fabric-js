<!-- Copyright (c) Microsoft. All rights reserved. Licensed under the MIT license. See LICENSE in the project root for license information. -->
<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<title>Office Fabric JS</title>

    <script type="text/javascript" src="{{relativePath}}../js/fabric.min.js"></script>
    <link rel="stylesheet" href="{{relativePath}}styles.css">
	<link rel="stylesheet" href="{{relativePath}}../css/fabric.min.css">
	<link rel="stylesheet" href="{{relativePath}}../css/fabric.components.min.css">
    <script type="text/javascript" src="{{relativePath}}../lib/jquery.js"></script>
    <script type="text/javascript" src="{{relativePath}}../lib/animatescroll.min.js"></script>
    {{#if pageInfo.isDatePicker}}
    <script type="text/javascript" src="{{relativePath}}../lib/PickaDate.js"></script>
    {{/if}}
</head>
<body>
    <div id="main">
        <div class="ms-Fabric ms-font-m App">
            <header class="od-Header">
                <div class="od-Header-banner">
                    <div class="od-Header-logo">
                        <div class="od-Logo-link">
                            <img src="{{relativePath}}images/logo-office-dev.svg" width="190" height="48" alt="Office dev center logo image">
                        </div>
                    </div>
                </div>
            </header>
            <div class="App-wrapper">
                <div class="App-mobileNavBar">
                    <button class="menuButton"><i class="ms-Icon ms-Icon--GlobalNavButton"></i></button>
                    <div class="siteTitle">Fabric JS</div>
                </div>
                <div class="App-mobileNavOverlay"></div>
                <div class="App-nav">
                    <nav class="nav">
                        <ul class="links">
                            <li class="link isHomePage fabricPage">
                                <a href="{{relativePath}}index.html" title="Home page" aria-label="Home Page">Fabric JS</a>
                            </li>
                            <li class="link GetStarted getStartedPage">
                                <a class="getStarted" href="{{relativePath}}GetStarted/GetStarted.html">Get Started</a>
                            </li>
                            <li class="link linkToggle Components">
                                <a href="#">Components</a>
                                <ul class="links isSubMenu">
                                    <% components.forEach(function(component) { %>
                                        <li class="link">
                                            <a href="{{relativePath}}Components/<%= component.name %>/<%= component.name %>.html"><%= component.name %></a>
                                        </li>
                                    <% }); %>
                                </ul>
                            </li>
                            <li class="link backToFabricSite">
                                <a href="#">Back to Fabric Site</a>
                            </li>
                        </ul>
                    </nav>
                </div>
                <div id="mainContent" class="App-content">
                    {{ renderDocPage props=props }}
                </div>
            </div>
        </div>
    </div>
</body>
<script>
(function(){
    var mainContainer = document.getElementById('mainContent');
    var toggleLinks = document.querySelectorAll('.linkToggle > a');
    function linkToggle() {
        (this.parentNode.classList.contains('isActive')) ?
        this.parentNode.classList.remove('isActive') :
        this.parentNode.classList.add('isActive');
    }

    for (var i = 0; i < toggleLinks.length; i++) {
        toggleLinks[i].addEventListener('click', linkToggle);
    }

    function navLinkHighlight() {
        const NAV_LINKS = document.querySelectorAll('.nav > .links > .link');
        let URL_PATH = window.location.pathname;
        URL_PATH = URL_PATH.split('/');

        var selected = document.getElementsByClassName(URL_PATH[1])[0];
        if (selected) {
            selected.classList.add('isActive');
        }
    }

    navLinkHighlight();

    var navState = false;
    var appContainer = document.querySelector(".App");
    var navButton = document.querySelector(".menuButton");
    var navButtonIcon = navButton.querySelector('.ms-Icon');
    navButton.addEventListener("click", toggleNav);
    function toggleNav() {
        if (navState) {
            appContainer.classList.remove("is-navOpen");
            navButtonIcon.classList.add("ms-Icon--GlobalNavButton");
            navButtonIcon.classList.remove("ms-Icon--ChromeClose");
        } else {
            appContainer.classList.add("is-navOpen");
            navButtonIcon.classList.add("ms-Icon--ChromeClose");
            navButtonIcon.classList.remove("ms-Icon--GlobalNavButton");
        }
        navState = !navState;
    }

    // Add isAttached to pageHeader on scroll
    const FULL_HEADER_HEIGHT = 236;
    const ATTACHED_HEADER_HEIGHT = 128;
    const SCROLL_THRESHHOLD = FULL_HEADER_HEIGHT - ATTACHED_HEADER_HEIGHT;
    var isAttached;
    const pageHeader = document.querySelector('.pageHeader');
    if (pageHeader) {
        window.onscroll = checkHeaderAttachment;
        checkHeaderAttachment();
        function checkHeaderAttachment() {
            if (window.scrollY >= SCROLL_THRESHHOLD) {
              isAttached = true;
              if (!pageHeader.classList.contains('isAttached')) {
                pageHeader.classList.add('isAttached');
              }
            } else {
              isAttached = false;
              if (pageHeader.classList.contains('isAttached')) {
                pageHeader.classList.remove('isAttached');
              }
            }
        }
    }

})();

    
</script>
</html>